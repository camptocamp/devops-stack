---
apps:
  aad-pod-identity:
    enabled: true
  csi-secrets-store-provider-azure:
    enabled: true
  metrics-server:
    enabled: false

aad-pod-identity:
  azureIdentities:
%{for k, v in azureidentities~}
    ${k}:
      namespace: "${v.namespace}"
      name: "${v.name}"
      type: 0
      resourceID: "${v.resource_id}"
      clientID: "${v.client_id}"
      binding:
        name: "${v.name}"
        selector: "${v.name}"
%{endfor~}

argo-cd:
  controller:
    resources:
      limits:
        memory: 4Gi
      requests:
        cpu: 250m
        memory: 96Mi
  dex:
    resources:
      limits:
        memory: 64Mi
      requests:
        cpu: 10m
        memory: 32Mi

  redis:
    resources:
      limits:
        memory: 128Mi
      requests:
        cpu: 100m
        memory: 64Mi

  server:
    config:
      admin.enabled: "false"
    extraArgs:
      - --insecure
    resources:
      limits:
        memory: 128Mi
      requests:
        cpu: 50m
        memory: 32Mi
    replicas: 2
  repoServer:
    resources:
      limits:
        memory: 1Gi
      requests:
        cpu: 10m
        memory: 32Mi
    replicas: 2
