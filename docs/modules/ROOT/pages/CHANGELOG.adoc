= Changelog

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.15.0[0.15.0] (2020-11-26)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.14.2...v0.15.0[Full Changelog]

*Implemented enhancements:*

* Mutualize most configuration https://github.com/camptocamp/camptocamp-devops-stack/pull/310[#310] (https://github.com/mcanevet[mcanevet])
* Configure Applications to use Keycloak https://github.com/camptocamp/camptocamp-devops-stack/pull/312[#312] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.14.2[0.14.2] (2020-11-26)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.14.1...v0.14.2[Full Changelog]

*Fixed bugs:*

* Fix cognito groups https://github.com/camptocamp/camptocamp-devops-stack/pull/307[#307] (https://github.com/mcanevet[mcanevet])
* Disable ArgoCD's admin user for EKS https://github.com/camptocamp/camptocamp-devops-stack/pull/309[#309] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.14.1[0.14.1] (2020-11-25)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.14.0...v0.14.1[Full Changelog]

*Fixed bugs:*

* Fix IRSA for loki https://github.com/camptocamp/camptocamp-devops-stack/pull/306[#306] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.14.0[0.14.0] (2020-11-25)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.13.0...v0.14.0[Full Changelog]

*Implemented enhancements:*

* Use token in EKS' kubeconfig https://github.com/camptocamp/camptocamp-devops-stack/pull/298[#298] (https://github.com/mcanevet[mcanevet])
* Rename loki Application to loki-stack and deploys it in its own namespace https://github.com/camptocamp/camptocamp-devops-stack/pull/300[#300] (https://github.com/mcanevet[mcanevet])
* Explicitly use "set" directive in shell scripts https://github.com/camptocamp/camptocamp-devops-stack/pull/302[#302] (https://github.com/mcanevet[mcanevet])
* Move common app of apps values in a template https://github.com/camptocamp/camptocamp-devops-stack/pull/303[#303] (https://github.com/mcanevet[mcanevet])
* Allow to deploy additional applications https://github.com/camptocamp/camptocamp-devops-stack/pull/304[#304] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.13.0[0.13.0] (2020-11-24)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.12.0...v0.13.0[Full Changelog]

*Implemented enhancements:*

* Allow to override Applications' syncPolicy https://github.com/camptocamp/camptocamp-devops-stack/pull/292[#292] (https://github.com/mcanevet[mcanevet])
* Add common outputs to modules https://github.com/camptocamp/camptocamp-devops-stack/pull/293[#293] (https://github.com/mcanevet[mcanevet])
* Apply Applications object to have a more accurate diff on PR/MR https://github.com/camptocamp/camptocamp-devops-stack/pull/297[#297] (https://github.com/mcanevet[mcanevet])

*Fixed bugs:*

* Sync app-of-apps and apps values.yaml https://github.com/camptocamp/camptocamp-devops-stack/pull/291[#291] (https://github.com/mcanevet[mcanevet])
* Use planned outputs instead of outputs for dry-run https://github.com/camptocamp/camptocamp-devops-stack/pull/294[#294] (https://github.com/mcanevet[mcanevet])
* Fix target branch for dry-run in tests https://github.com/camptocamp/camptocamp-devops-stack/pull/295[#295] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.12.0[0.12.0] (2020-11-24)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.11.0...v0.12.0[Full Changelog]

*Implemented enhancements:*

* Rename test project from k3s-docker-demo-app to k3s-docker https://github.com/camptocamp/camptocamp-devops-stack/pull/280[#280] (https://github.com/mcanevet[mcanevet])
* Add k3os-libvirt test project https://github.com/camptocamp/camptocamp-devops-stack/pull/281[#281] (https://github.com/mcanevet[mcanevet])
* Use ubuntu-18.04 instead of ubuntu-latest for pipeline https://github.com/camptocamp/camptocamp-devops-stack/pull/282[#282] (https://github.com/mcanevet[mcanevet])
* Add strategy to github actions workflow https://github.com/camptocamp/camptocamp-devops-stack/pull/283[#283] (https://github.com/mcanevet[mcanevet])
* Use camptocamp/k3os/libvirt 0.2.4 https://github.com/camptocamp/camptocamp-devops-stack/pull/284[#284] (https://github.com/mcanevet[mcanevet])
* Deploy ArgoCD using argo-helm module https://github.com/camptocamp/camptocamp-devops-stack/pull/285[#285] (https://github.com/mcanevet[mcanevet])
* Create ArgoCD's pipeline token with Terraform https://github.com/camptocamp/camptocamp-devops-stack/pull/286[#286] (https://github.com/mcanevet[mcanevet])
* Generate JWT token in Terraform https://github.com/camptocamp/camptocamp-devops-stack/pull/287[#287] (https://github.com/mcanevet[mcanevet])
* Get ARGOCD_AUTH_TOKEN and KUBECONFIG from terraform outputs https://github.com/camptocamp/camptocamp-devops-stack/pull/288[#288] (https://github.com/mcanevet[mcanevet])
* Don't depend on jq https://github.com/camptocamp/camptocamp-devops-stack/pull/289[#289] (https://github.com/mcanevet[mcanevet])

*New applications:*

* Enable minio https://github.com/camptocamp/camptocamp-devops-stack/pull/277[#277] (https://github.com/pburgisser[pburgisser])

*Fixed bugs:*

* Fixing k3o https://github.com/camptocamp/camptocamp-devops-stack/pull/274[#274] (https://github.com/pburgisser[pburgisser])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.11.0[0.11.0] (2020-11-19)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.10.1...v0.11.0[Full Changelog]

*Implemented enhancements:*

* [eks-aws] Add support for creating a private NLB https://github.com/camptocamp/camptocamp-devops-stack/pull/268[#268] (https://github.com/ckaenzig[ckaenzig])
* [pipeline] Variabilize version in gitlab-ci pipeline https://github.com/camptocamp/camptocamp-devops-stack/pull/269[#269] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.10.1[0.10.1] (2020-11-18)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.10.0...v0.10.1[Full Changelog]

*Fixed bugs:*

* Install jq and helm in gitlab-ci pipeline https://github.com/camptocamp/camptocamp-devops-stack/pull/266[#266] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.10.0[0.10.0] (2020-11-18)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.9.0...v0.10.0[Full Changelog]

*Breaking changes:*

* [eks-aws] Due to the fact that a Cognito User Pool can have only one Cognito User Pool Domain attached, we had to remove the creation of the User Pool Domain from the DevOps Stack because it is incompatible with a clue/green or a prod/qa/int/dev/lab/whatever pattern. Hence, there is a new `cognito_user_pool_domain` mandatory parameter, and the previous user pool domain will be removed.

*Implemented enhancements:*

* Use diff as differ https://github.com/camptocamp/camptocamp-devops-stack/pull/258[#258] (https://github.com/mcanevet[mcanevet])
* Apply modifications on pull requests in pipeline https://github.com/camptocamp/camptocamp-devops-stack/pull/262[#262] (https://github.com/mcanevet[mcanevet])

*Upgraded applications:*

* Upgrade kube-prometheus-stack to v12.0.1 https://github.com/camptocamp/camptocamp-devops-stack/pull/256[#256] (https://github.com/mcanevet[mcanevet])

*Documentation:*

* Document how to release a new version https://github.com/camptocamp/camptocamp-devops-stack/pull/257[#257] (https://github.com/mcanevet[mcanevet])
* Fix release documentation https://github.com/camptocamp/camptocamp-devops-stack/pull/265[#265] (https://github.com/mcanevet[mcanevet])

*Fixed bugs:*

* Fix devops-stack version in gitlab pipeline and example https://github.com/camptocamp/camptocamp-devops-stack/pull/255[#255] (https://github.com/mcanevet[mcanevet])
* Replace cognito_user_pool_domain resource with module argument https://github.com/camptocamp/camptocamp-devops-stack/pull/263[#263] (https://github.com/ckaenzig[ckaenzig])
* Fix eks-aws example https://github.com/camptocamp/camptocamp-devops-stack/pull/264[#264] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.9.0[0.9.0] (2020-11-17)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.8.0...v0.9.0[Full Changelog]

*Implemented enhancements:*

* Add OAuth to Grafana for EKS https://github.com/camptocamp/camptocamp-devops-stack/pull/230[#230] (https://github.com/raphink[raphink])
* Merge prometheus-operator and cluster-monitoring Applications into kube-prometheus-stack https://github.com/camptocamp/camptocamp-devops-stack/pull/237[#237] (https://github.com/mcanevet[mcanevet])
* Remove namespaces Application https://github.com/camptocamp/camptocamp-devops-stack/pull/238[#238] (https://github.com/mcanevet[mcanevet])
* Make pipeline less verbose https://github.com/camptocamp/camptocamp-devops-stack/pull/240[#240] (https://github.com/mcanevet[mcanevet])
* Update k3s/k3os modules to support local storage https://github.com/camptocamp/camptocamp-devops-stack/pull/245[#245] (https://github.com/mcanevet[mcanevet])

*Upgraded applications:*

* Upgrade kube-prometheus-stack https://github.com/camptocamp/camptocamp-devops-stack/pull/229[#229] (https://github.com/mcanevet[mcanevet])
* Upgrade argocd chart to 2.9.5 https://github.com/camptocamp/camptocamp-devops-stack/pull/233[#233] (https://github.com/mcanevet[mcanevet])
* Upgrade cert-manager to 1.0.4 https://github.com/camptocamp/camptocamp-devops-stack/pull/239[#239] (https://github.com/mcanevet[mcanevet])
* Upgrade Traefik chart to 9.10.1 https://github.com/camptocamp/camptocamp-devops-stack/pull/241[#241] (https://github.com/mcanevet[mcanevet])
* Upgrade k3s to v1.18.12-k3s1 https://github.com/camptocamp/camptocamp-devops-stack/pull/246[#246] (https://github.com/mcanevet[mcanevet])

*New applications:*

* Deploy OLM https://github.com/camptocamp/camptocamp-devops-stack/pull/243[#243] (https://github.com/mcanevet[mcanevet])
* Deploy Keycloak Operator https://github.com/camptocamp/camptocamp-devops-stack/pull/247[#247] (https://github.com/mcanevet[mcanevet])
* Deploy Keycloak https://github.com/camptocamp/camptocamp-devops-stack/pull/250[#250] (https://github.com/mcanevet[mcanevet])

*Fixed bugs:*

* Enable ArgoCD metrics everywhere https://github.com/camptocamp/camptocamp-devops-stack/pull/231[#231] (https://github.com/mcanevet[mcanevet])
* Manage app of apps with itself https://github.com/camptocamp/camptocamp-devops-stack/pull/232[#232] (https://github.com/mcanevet[mcanevet])
* Fix bootstrap https://github.com/camptocamp/camptocamp-devops-stack/pull/235[#235] (https://github.com/mcanevet[mcanevet])
* Fix bootstrap https://github.com/camptocamp/camptocamp-devops-stack/pull/236[#236] (https://github.com/mcanevet[mcanevet])
* Use a dedicated secret for ingress tls certs https://github.com/camptocamp/camptocamp-devops-stack/pull/242[#242] (https://github.com/raphink[raphink])
* Update prometheus datasource to use kube-prometheus-stack svc https://github.com/camptocamp/camptocamp-devops-stack/pull/244[#244] (https://github.com/raphink[raphink])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.8.0[0.8.0] (2020-11-12)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.7.0...v0.8.0[Full Changelog]

*Implemented enhancements:*

* Add pipeline for Gitlab CI https://github.com/camptocamp/camptocamp-devops-stack/pull/203[#203] (https://github.com/mcanevet[mcanevet])
* Add Gitlab CI pipeline in examples https://github.com/camptocamp/camptocamp-devops-stack/pull/204[#204] (https://github.com/mcanevet[mcanevet])
* Allow to manipulate kubeconfig https://github.com/camptocamp/camptocamp-devops-stack/pull/205[#205] (https://github.com/raphink[raphink])
* Add example for EKS https://github.com/camptocamp/camptocamp-devops-stack/pull/206[#206] (https://github.com/mcanevet[mcanevet])
* Use TF_WORKSPACE environment variable https://github.com/camptocamp/camptocamp-devops-stack/pull/207[#207] (https://github.com/mcanevet[mcanevet])
* Add kubeconfig output to every modules https://github.com/camptocamp/camptocamp-devops-stack/pull/208[#208] (https://github.com/mcanevet[mcanevet])
* Add ArgoCD app diff in the pipeline https://github.com/camptocamp/camptocamp-devops-stack/pull/215[#215] https://github.com/camptocamp/camptocamp-devops-stack/pull/216[#216] (https://github.com/mcanevet[mcanevet])

*Upgraded applications:*

* Upgrade Loki to 2.0.2 https://github.com/camptocamp/camptocamp-devops-stack/pull/224[#224] (https://github.com/mcanevet[mcanevet])

*New applications:*

* Add efs-provisioner to eks-aws module https://github.com/camptocamp/camptocamp-devops-stack/pull/222[#222] (https://github.com/raphink[raphink])

*Fixed bugs:*

* Fix cert-manager deployment https://github.com/camptocamp/camptocamp-devops-stack/pull/209[#209] (https://github.com/mcanevet[mcanevet])
* Rename prometheus port and add web port again https://github.com/camptocamp/camptocamp-devops-stack/pull/210[#210] (https://github.com/raphink[raphink])
* Disable Vault and secrets store CSI driver for now https://github.com/camptocamp/camptocamp-devops-stack/pull/212[#212] (https://github.com/mcanevet[mcanevet])
* Fix race condition when updating kubeconfig https://github.com/camptocamp/camptocamp-devops-stack/pull/225[#225] (https://github.com/mcanevet[mcanevet])
* Don't run plan with detailed-exit-code https://github.com/camptocamp/camptocamp-devops-stack/pull/226[#226] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.7.0[0.7.0] (2020-11-05)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.6.0...v0.7.0[Full Changelog]

*Implemented enhancements:*

* Add provision.sh and destroy.sh scripts https://github.com/camptocamp/camptocamp-devops-stack/pull/170[#170] (https://github.com/mcanevet[mcanevet])
* Remove dependency on Docker https://github.com/camptocamp/camptocamp-devops-stack/pull/174[#174] (https://github.com/mcanevet[mcanevet])
* Add support for libvirt https://github.com/camptocamp/camptocamp-devops-stack/pull/175[#175] (https://github.com/mcanevet[mcanevet])
* Add example for libvirt https://github.com/camptocamp/camptocamp-devops-stack/pull/176[#176] (https://github.com/mcanevet[mcanevet])
* Improve GitHub actions workflow https://github.com/camptocamp/camptocamp-devops-stack/pull/182[#182] (https://github.com/mcanevet[mcanevet])
* Add support for EKS https://github.com/camptocamp/camptocamp-devops-stack/pull/184[#184] (https://github.com/mcanevet[mcanevet])
* Move distro specific configuration to distro's values.yaml https://github.com/camptocamp/camptocamp-devops-stack/pull/187[#187] (https://github.com/mcanevet[mcanevet])
* Allow to override app of apps parameters https://github.com/camptocamp/camptocamp-devops-stack/pull/190[#190] (https://github.com/mcanevet[mcanevet])
* Create tests and use it for CI instead of examples https://github.com/camptocamp/camptocamp-devops-stack/pull/199[#199] (https://github.com/mcanevet[mcanevet])

*Upgraded applications:*

* Use k3s v1.18 https://github.com/camptocamp/camptocamp-devops-stack/pull/189[#189] (https://github.com/mcanevet[mcanevet])

*Fixed bugs:*

* Don't validate certificate when using helm provider https://github.com/camptocamp/camptocamp-devops-stack/pull/171[#171] (https://github.com/mcanevet[mcanevet])
* Fix .gitignore https://github.com/camptocamp/camptocamp-devops-stack/pull/172[#172] (https://github.com/mcanevet[mcanevet])
* Fix scripts https://github.com/camptocamp/camptocamp-devops-stack/pull/173[#173] (https://github.com/mcanevet[mcanevet])
* Don't manage app of apps with itself https://github.com/camptocamp/camptocamp-devops-stack/pull/179[#179] (https://github.com/mcanevet[mcanevet])
* Fix Terraform workspace create https://github.com/camptocamp/camptocamp-devops-stack/pull/180[#180] (https://github.com/mcanevet[mcanevet])
* Correct deprecation warning during Antora build https://github.com/camptocamp/camptocamp-devops-stack/pull/185[#185] (https://github.com/acampergue-camptocamp[acampergue-camptocamp])
* Fix Cognito zone https://github.com/camptocamp/camptocamp-devops-stack/pull/191[#191] (https://github.com/mcanevet[mcanevet])
* Configure helm provider to not load config file https://github.com/camptocamp/camptocamp-devops-stack/pull/194[#194] (https://github.com/mcanevet[mcanevet])
* Use prod letsencrypt issuer https://github.com/camptocamp/camptocamp-devops-stack/pull/197[#197] (https://github.com/raphink[raphink])
* Don't use kubernetes-alpha provider https://github.com/camptocamp/camptocamp-devops-stack/pull/198[#198] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.6.0[0.6.0] (2020-10-28)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.5.0...v0.6.0[Full Changelog]

*Implemented enhancements:*

* Allow to instantiate the DevOps Stack (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.5.0[0.5.0] (2020-10-20)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.4.0...v0.5.0[Full Changelog]

*Implemented enhancements:*

* Allow to disable every application https://github.com/camptocamp/camptocamp-devops-stack/pull/123[#123] (https://github.com/mcanevet[mcanevet])
* Pin docker provider version https://github.com/camptocamp/camptocamp-devops-stack/pull/125[#125] (https://github.com/mcanevet[mcanevet])
* Fetch kubeconfig from regular path https://github.com/camptocamp/camptocamp-devops-stack/pull/127[#127] (https://github.com/mcanevet[mcanevet])
* Always use current working dir in docker containers https://github.com/camptocamp/camptocamp-devops-stack/pull/130[#130] (https://github.com/mcanevet[mcanevet])
* Use absolute path for ARTIFACTS_DIR https://github.com/camptocamp/camptocamp-devops-stack/pull/131[#131] (https://github.com/mcanevet[mcanevet])
* Add abstraction to support for multiple distributions https://github.com/camptocamp/camptocamp-devops-stack/pull/134[#134] (https://github.com/mcanevet[mcanevet])
* Factorize Docker common args in a variable https://github.com/camptocamp/camptocamp-devops-stack/pull/136[#136] (https://github.com/mcanevet[mcanevet])
* Make get-kubeconfig distribution specific https://github.com/camptocamp/camptocamp-devops-stack/pull/141[#141] (https://github.com/mcanevet[mcanevet])
* Make get-base-domain distribution specific https://github.com/camptocamp/camptocamp-devops-stack/pull/142[#142] (https://github.com/mcanevet[mcanevet])
* Use terraform.tfstate instead of terraform.tfstate.json https://github.com/camptocamp/camptocamp-devops-stack/pull/143[#143] (https://github.com/mcanevet[mcanevet])
* Remove dependency between get-kubeconfig.sh and get-base-domain.sh https://github.com/camptocamp/camptocamp-devops-stack/pull/145[#145] (https://github.com/mcanevet[mcanevet])
* Don't use user's terraform plugin-cache dir https://github.com/camptocamp/camptocamp-devops-stack/pull/126[#126], https://github.com/camptocamp/camptocamp-devops-stack/pull/129[#129], https://github.com/camptocamp/camptocamp-devops-stack/pull/146[#146] and https://github.com/camptocamp/camptocamp-devops-stack/pull/147[#147] (https://github.com/mcanevet[mcanevet])

*Documentation:*

* Document how to write documentation in this project https://github.com/camptocamp/camptocamp-devops-stack/pull/122[#122] and https://github.com/camptocamp/camptocamp-devops-stack/pull/132[#132] (https://github.com/acampergue-camptocamp[acampergue-camptocamp]), closes https://github.com/camptocamp/camptocamp-devops-stack/issues/107[issue #107].
* Add a link to the Github repo https://github.com/camptocamp/camptocamp-devops-stack/pull/138[#138] (https://github.com/acampergue-camptocamp[acampergue-camptocamp])

*Fixed bugs:*

* Don't build and deploy the documentation on PR to master, since useless and might cause issues https://github.com/camptocamp/camptocamp-devops-stack/pull/128[#128] (https://github.com/acampergue-camptocamp[acampergue-camptocamp]), closes https://github.com/camptocamp/camptocamp-devops-stack/issues/124[issue #124]
* Always use network mode host https://github.com/camptocamp/camptocamp-devops-stack/pull/133[#133] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.4.0[0.4.0] (2020-10-10)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.3.0...v0.4.0[Full Changelog]

*Implemented enhancements:*

* Add randomly generated exemple https://github.com/camptocamp/camptocamp-devops-stack/pull/100[#100] (https://github.com/JGodin-C2C[JGodin-C2C])
* Use a local registry as a pull through cache https://github.com/camptocamp/camptocamp-devops-stack/pull/102[#102] (https://github.com/mcanevet[mcanevet])
* Add cache for quay.io, gcr.io and us.gcr.io registries https://github.com/camptocamp/camptocamp-devops-stack/pull/103[#103] (https://github.com/mcanevet[mcanevet])
* Update test workflow conditions https://github.com/camptocamp/camptocamp-devops-stack/pull/112[#112] (https://github.com/mcanevet[mcanevet])
* Destroy Terraform workspace for Vault on clean https://github.com/camptocamp/camptocamp-devops-stack/pull/117[#117] (https://github.com/mcanevet[mcanevet])

*Upgraded applications:*

* Upgrade Terraform to 0.13.4 https://github.com/camptocamp/camptocamp-devops-stack/pull/104[#104] (https://github.com/mcanevet[mcanevet])
* Upgrade prometheus-operator to 10.0.1 https://github.com/camptocamp/camptocamp-devops-stack/pull/113[#113] (https://github.com/mcanevet[mcanevet])
* Upgrade secrets-store-csi-driver to 0.0.16 https://github.com/camptocamp/camptocamp-devops-stack/pull/115[#115] (https://github.com/mcanevet[mcanevet])

*Fixed bugs:*

* Wait for argocd-repo-server before deploying the app of apps https://github.com/camptocamp/camptocamp-devops-stack/pull/116[#116] (https://github.com/mcanevet[mcanevet])
* Remove all pods before cleanup to release volumes mounted with rshared propagation https://github.com/camptocamp/camptocamp-devops-stack/pull/119[#119] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.3.0[0.3.0] (2020-10-05)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.2.0...v0.3.0[Full Changelog]


*New applications:*

* Deploy Vault https://github.com/camptocamp/camptocamp-devops-stack/pull/74[#74] (https://github.com/mcanevet[mcanevet])
* Deploy secret store csi driver https://github.com/camptocamp/camptocamp-devops-stack/pull/92[#92] (https://github.com/mcanevet[mcanevet])
* Deploy demo-app https://github.com/camptocamp/camptocamp-devops-stack/pull/93[#93] (https://github.com/mcanevet[mcanevet])

*Upgraded applications:*

* Upgrade K3s to v1.19.2 https://github.com/camptocamp/camptocamp-devops-stack/pull/54[#54] (https://github.com/mcanevet[mcanevet])
* Upgrade ArgoCD to 1.7.6 https://github.com/camptocamp/camptocamp-devops-stack/pull/71[#71] (https://github.com/mcanevet[mcanevet])
* Upgrade cert-manager to 1.0.2 https://github.com/camptocamp/camptocamp-devops-stack/pull/72[#72] (https://github.com/mcanevet[mcanevet])

*Implemented enhancements:*

* Support deploying multiple cluster in parallel https://github.com/camptocamp/camptocamp-devops-stack/pull/61[#61] (https://github.com/mcanevet[mcanevet])
* Use docker cp to get Kubernetes context https://github.com/camptocamp/camptocamp-devops-stack/pull/64[#64] (https://github.com/mcanevet[mcanevet])
* Don’t create 2 vhost per service https://github.com/camptocamp/camptocamp-devops-stack/pull/66[#66] (https://github.com/mcanevet[mcanevet])
* Use Ingress instead of IngressRoute https://github.com/camptocamp/camptocamp-devops-stack/pull/70[#70] (https://github.com/mcanevet[mcanevet])
* Allow to scale agents https://github.com/camptocamp/camptocamp-devops-stack/pull/73[#73] (https://github.com/mcanevet[mcanevet])
* Configure kubernetes auth backend for vault https://github.com/camptocamp/camptocamp-devops-stack/pull/76[#76] (https://github.com/mcanevet[mcanevet])
* Automate Vault configuration https://github.com/camptocamp/camptocamp-devops-stack/pull/81[#81] (https://github.com/mcanevet[mcanevet])
* Improve Vault configuration https://github.com/camptocamp/camptocamp-devops-stack/pull/83[#83] (https://github.com/mcanevet[mcanevet])
* Show list of pods instead of list of apps in wait loop https://github.com/camptocamp/camptocamp-devops-stack/pull/85[#85] (https://github.com/mcanevet[mcanevet])
* Use mounts instead of tmpfs and volumes https://github.com/camptocamp/camptocamp-devops-stack/pull/90[#90] (https://github.com/mcanevet[mcanevet])
* Mount /var/lib/kubelet with propagation https://github.com/camptocamp/camptocamp-devops-stack/pull/91[#91] (https://github.com/mcanevet[mcanevet])
* Inject secret in demo-app using vault-injector https://github.com/camptocamp/camptocamp-devops-stack/pull/98[#98] (https://github.com/mcanevet[mcanevet])
* Inject secret in demo-app using secrets store csi driver https://github.com/camptocamp/camptocamp-devops-stack/pull/99[#99] (https://github.com/mcanevet[mcanevet])

*Fixed bugs:*

* https://github.com/camptocamp/camptocamp-devops-stack/commit/1a1d0a02343b80e7aa81e8a746c8037c25531839[Fix Issue with some versions of Make] (https://github.com/sbrunner[sbrunner])
* Don’t delete Docker image on cleanup https://github.com/camptocamp/camptocamp-devops-stack/pull/65[#65] (https://github.com/mcanevet[mcanevet])
* Ignore Ingress status https://github.com/camptocamp/camptocamp-devops-stack/pull/69[#69] (https://github.com/mcanevet[mcanevet])
* Improve remote branch detection https://github.com/camptocamp/camptocamp-devops-stack/pull/84[#84] (https://github.com/mcanevet[mcanevet])

*Documentation:*

* Convert to asciidoc, integrate with Antora https://github.com/camptocamp/camptocamp-devops-stack/pull/63[#63] (https://github.com/acampergue-camptocamp[acampergue-camptocamp])
* Use local directory for project's reference instead of github link https://github.com/camptocamp/camptocamp-devops-stack/pull/67[#67] (https://github.com/acampergue-camptocamp[acampergue-camptocamp])
* Convert CHANGELOG from md to adoc https://github.com/camptocamp/camptocamp-devops-stack/pull/68[#68] (https://github.com/acampergue-camptocamp[acampergue-camptocamp])
* Integrate changelog page in antora doc https://github.com/camptocamp/camptocamp-devops-stack/pull/77[#77] (https://github.com/acampergue-camptocamp[acampergue-camptocamp])
* Change of structure to match https://documentation.divio.com/ recommendations https://github.com/camptocamp/camptocamp-devops-stack/pull/79[#79] (https://github.com/acampergue-camptocamp[acampergue-camptocamp])
* Use camptocamp's version of Antora-ui, add Metadata, Antora always build current branch https://github.com/camptocamp/camptocamp-devops-stack/pull/80[#80] (https://github.com/acampergue-camptocamp[acampergue-camptocamp])
* Start documenting Vault https://documentation.divio.com/ recommendations https://github.com/camptocamp/camptocamp-devops-stack/pull/87[#87] (https://github.com/mcanevet[mcanevet])
* Document how to develop https://documentation.divio.com/ recommendations https://github.com/camptocamp/camptocamp-devops-stack/pull/88[#88] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.2.0[0.2.0] (2020-09-20)

https://github.com/camptocamp/camptocamp-devops-stack/compare/v0.1.0...v0.2.0[Full Changelog]

*Implemented enhancements:*

* Add debug target to Makefile https://github.com/camptocamp/camptocamp-devops-stack/pull/30[#30] (https://github.com/mcanevet[mcanevet])
* Fetch repo URL and cluster name from remote https://github.com/camptocamp/camptocamp-devops-stack/pull/35[#35] (https://github.com/mcanevet[mcanevet])
* Don’t set ResourceQuota on demo https://github.com/camptocamp/camptocamp-devops-stack/pull/36[#36] (https://github.com/mcanevet[mcanevet])
* Enable Prometheus metrics for Traefik https://github.com/camptocamp/camptocamp-devops-stack/pull/38[#38] (https://github.com/mcanevet[mcanevet])
* Deploy prometheus-operator and kube-prometheus-stack https://github.com/camptocamp/camptocamp-devops-stack/pull/40[#40] (https://github.com/mcanevet[mcanevet])
* Add monitoring for ArgoCD and cert-manager https://github.com/camptocamp/camptocamp-devops-stack/pull/44[#44] (https://github.com/mcanevet[mcanevet])
* [grafana] Search for dashboard and datasource in all namespaces https://github.com/camptocamp/camptocamp-devops-stack/pull/49[#49] (https://github.com/mcanevet[mcanevet])
* Deploy Loki https://github.com/camptocamp/camptocamp-devops-stack/pull/50[#50] (https://github.com/mcanevet[mcanevet])

== https://github.com/camptocamp/camptocamp-devops-stack/tree/v0.1.0[0.1.0] (2020-09-19)

*Implemented enhancements:*

* Deploy K3s using Terraform (https://github.com/mcanevet[mcanevet])
* Deploy ArgoCD using `helm template ... | kubectl apply -f-` (https://github.com/mcanevet[mcanevet])
* Deploy cert-manager using ArgoCD (https://github.com/mcanevet[mcanevet])
* Deploy Traefik using ArgoCD (https://github.com/mcanevet[mcanevet])
* Create initial github actions pipeline to prevent regressions (https://github.com/mcanevet[mcanevet])
